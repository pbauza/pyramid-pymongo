{% extends "base.jinja2" %}
{% block content %}
<h2 class="mb-4">New Submission</h2>

{% if error %}
  <div class="error mb-3">{{ error }}</div>
{% elif success %}
  <div class="alert alert-success">{{ success }}</div>
{% endif %}

<p><strong>Authenticated user:</strong> {{ niu or "Unknown" }}</p>

<form method="post" class="needs-validation" novalidate>
  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label" for="experiment_id">Experiment identifier *</label>
      <input id="experiment_id" name="experiment_id" class="form-control" required
             value="{{ values.get('experiment_id','') }}" />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="niu">NIU *</label>
      <input id="niu" name="niu" class="form-control" required
             value="{{ values.get('niu','') }}" />
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label" for="first_name">First name *</label>
      <input id="first_name" name="first_name" class="form-control" required
             value="{{ values.get('first_name','') }}" />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="last_name">Last name *</label>
      <input id="last_name" name="last_name" class="form-control" required
             value="{{ values.get('last_name','') }}" />
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label" for="result">Result *</label>
      <input id="result" name="result" class="form-control" required type="number" step="any"
             value="{{ values.get('result','') }}" />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="uncertainty">Uncertainty *</label>
      <input id="uncertainty" name="uncertainty" class="form-control" required type="number" step="any"
             value="{{ values.get('uncertainty','') }}" />
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="comments">Comments (optional)</label>
    <textarea id="comments" name="comments" rows="3" class="form-control">{{ values.get('comments','') }}</textarea>
  </div>

  <button class="btn btn-primary" type="submit">Save</button>
  <p class="mt-3 text-muted small">* Required fields</p>
</form>
{% endblock %}
