{% extends "base.jinja2" %}
{% block content %}
<h2 class="mb-4">Edit Submission</h2>

{% if success %}
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    ✅ {{ success }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
{% elif error %}
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
    ⚠️ {{ error }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
{% endif %}

<form method="post">
  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label" for="experiment_id">Experiment identifier *</label>
      <input id="experiment_id" name="experiment_id" class="form-control" required value="{{ doc.experiment_id }}" />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="niu">NIU *</label>
      <input id="niu" name="niu" class="form-control" required value="{{ doc.niu }}" />
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label" for="first_name">First name *</label>
      <input id="first_name" name="first_name" class="form-control" required value="{{ doc.first_name }}" />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="last_name">Last name *</label>
      <input id="last_name" name="last_name" class="form-control" required value="{{ doc.last_name }}" />
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label" for="result">Result *</label>
      <input id="result" name="result" class="form-control" required type="number" step="any" value="{{ doc.result }}" />
    </div>
    <div class="col-md-6">
      <label class="form-label" for="uncertainty">Uncertainty *</label>
      <input id="uncertainty" name="uncertainty" class="form-control" required type="number" step="any" value="{{ doc.uncertainty }}" />
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="comments">Comments (optional)</label>
    <textarea id="comments" name="comments" rows="3" class="form-control">{{ doc.comments }}</textarea>
  </div>

  <p><strong>Current rectifications:</strong> {{ doc.rectifications }}</p>

  <button class="btn btn-success mt-3" type="submit">
    Save changes (increments rectifications)
  </button>
</form>
{% endblock %}
